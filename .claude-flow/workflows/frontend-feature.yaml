# Workflow: Add Frontend Feature
# Usage: npx claude-flow@v3alpha workflow run -f .claude-flow/workflows/frontend-feature.yaml --task "Add team settings page"

name: frontend-feature
description: Add a new frontend feature to the Next.js web app
topology: mesh
strategy: specialized

steps:
  - name: specify
    agent: planner
    description: |
      Define the frontend feature:
      1. Page/component location in src/interface/web/app/
      2. API endpoints it consumes
      3. UI components needed (check components/ui/ for existing shadcn/ui)
      4. Auth requirements (check app/common/auth.ts)
      5. Navigation/routing changes
      Reference: src/interface/web/ for existing patterns

  - name: implement-page
    agent: coder
    depends_on: [specify]
    description: |
      Create the page/component in src/interface/web/app/
      Follow existing patterns:
      - TypeScript + React
      - Tailwind CSS for styling
      - shadcn/ui components (in components/ui/)
      - Use existing hooks from app/common/
      - Layout pattern: create layout.tsx alongside page.tsx
      Package manager: Bun (not npm/yarn)

  - name: implement-api-client
    agent: coder
    depends_on: [specify]
    description: |
      Add API client functions in app/common/ if needed.
      Follow existing fetch patterns (relative URLs, same-origin).
      Handle auth state (check auth.ts).

  - name: update-navigation
    agent: coder
    depends_on: [implement-page]
    description: |
      Update navigation:
      - app/components/appSidebar/appSidebar.tsx (main nav)
      - app/components/navMenu/navMenu.tsx (if needed)
      - Any layout changes

  - name: review
    agent: reviewer
    depends_on: [implement-page, implement-api-client, update-navigation]
    description: |
      Review for:
      - Consistent styling with existing pages
      - Proper TypeScript types (no 'any')
      - Loading/error states handled
      - Mobile responsive
      - Auth-gated appropriately
